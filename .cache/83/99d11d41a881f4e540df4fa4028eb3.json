{"id":"src/ol/render.js","dependencies":[{"name":"C:\\Users\\alro9\\Documents\\GitHub\\geovisor\\package.json","includedInParent":true,"mtime":1562618226138},{"name":"./has.js","loc":{"line":4,"column":33},"parent":"C:\\Users\\alro9\\Documents\\GitHub\\geovisor\\src\\ol\\render.js","resolved":"C:\\Users\\alro9\\Documents\\GitHub\\geovisor\\src\\ol\\has.js"},{"name":"./transform.js","loc":{"line":10,"column":7},"parent":"C:\\Users\\alro9\\Documents\\GitHub\\geovisor\\src\\ol\\render.js","resolved":"C:\\Users\\alro9\\Documents\\GitHub\\geovisor\\src\\ol\\transform.js"},{"name":"./render/canvas/Immediate.js","loc":{"line":11,"column":36},"parent":"C:\\Users\\alro9\\Documents\\GitHub\\geovisor\\src\\ol\\render.js","resolved":"C:\\Users\\alro9\\Documents\\GitHub\\geovisor\\src\\ol\\render\\canvas\\Immediate.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toContext = toContext;\nexports.getVectorContext = getVectorContext;\nexports.getRenderPixel = getRenderPixel;\nexports.renderDeclutterItems = renderDeclutterItems;\n\nvar _has = require(\"./has.js\");\n\nvar _transform = require(\"./transform.js\");\n\nvar _Immediate = _interopRequireDefault(require(\"./render/canvas/Immediate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * @module ol/render\r\n */\n\n/**\r\n * @typedef {Object} State\r\n * @property {CanvasRenderingContext2D} context Canvas context that the layer is being rendered to.\r\n * @property {import(\"./Feature.js\").FeatureLike} feature\r\n * @property {import(\"./geom/SimpleGeometry.js\").default} geometry\r\n * @property {number} pixelRatio Pixel ratio used by the layer renderer.\r\n * @property {number} resolution Resolution that the render batch was created and optimized for.\r\n * This is not the view's resolution that is being rendered.\r\n * @property {number} rotation Rotation of the rendered layer in radians.\r\n */\n\n/**\r\n * A function to be used when sorting features before rendering.\r\n * It takes two instances of {@link module:ol/Feature} or\r\n * {@link module:ol/render/Feature} and returns a `{number}`.\r\n *\r\n * @typedef {function(import(\"./Feature.js\").FeatureLike, import(\"./Feature.js\").FeatureLike):number} OrderFunction\r\n */\n\n/**\r\n * @typedef {Object} ToContextOptions\r\n * @property {import(\"./size.js\").Size} [size] Desired size of the canvas in css\r\n * pixels. When provided, both canvas and css size will be set according to the\r\n * `pixelRatio`. If not provided, the current canvas and css sizes will not be\r\n * altered.\r\n * @property {number} [pixelRatio=window.devicePixelRatio] Pixel ratio (canvas\r\n * pixel to css pixel ratio) for the canvas.\r\n */\n\n/**\r\n * Binds a Canvas Immediate API to a canvas context, to allow drawing geometries\r\n * to the context's canvas.\r\n *\r\n * The units for geometry coordinates are css pixels relative to the top left\r\n * corner of the canvas element.\r\n * ```js\r\n * import {toContext} from 'ol/render';\r\n * import Fill from 'ol/style/Fill';\r\n * import Polygon from 'ol/geom/Polygon';\r\n *\r\n * var canvas = document.createElement('canvas');\r\n * var render = toContext(canvas.getContext('2d'),\r\n *     { size: [100, 100] });\r\n * render.setFillStrokeStyle(new Fill({ color: blue }));\r\n * render.drawPolygon(\r\n *     new Polygon([[[0, 0], [100, 100], [100, 0], [0, 0]]]));\r\n * ```\r\n *\r\n * @param {CanvasRenderingContext2D} context Canvas context.\r\n * @param {ToContextOptions=} opt_options Options.\r\n * @return {CanvasImmediateRenderer} Canvas Immediate.\r\n * @api\r\n */\nfunction toContext(context, opt_options) {\n  var canvas = context.canvas;\n  var options = opt_options ? opt_options : {};\n  var pixelRatio = options.pixelRatio || _has.DEVICE_PIXEL_RATIO;\n  var size = options.size;\n\n  if (size) {\n    canvas.width = size[0] * pixelRatio;\n    canvas.height = size[1] * pixelRatio;\n    canvas.style.width = size[0] + 'px';\n    canvas.style.height = size[1] + 'px';\n  }\n\n  var extent = [0, 0, canvas.width, canvas.height];\n  var transform = (0, _transform.scale)((0, _transform.create)(), pixelRatio, pixelRatio);\n  return new _Immediate.default(context, pixelRatio, extent, transform, 0);\n}\n/**\r\n * Gets a vector context for drawing to the event's canvas.\r\n * @param {import(\"./render/Event.js\").default} event Render event.\r\n * @returns {CanvasImmediateRenderer} Vector context.\r\n * @api\r\n */\n\n\nfunction getVectorContext(event) {\n  var frameState = event.frameState;\n  var transform = (0, _transform.multiply)(event.inversePixelTransform.slice(), frameState.coordinateToPixelTransform);\n  return new _Immediate.default(event.context, frameState.pixelRatio, frameState.extent, transform, frameState.viewState.rotation);\n}\n/**\r\n * Gets the pixel of the event's canvas context from the map viewport's CSS pixel.\r\n * @param {import(\"./render/Event.js\").default} event Render event.\r\n * @param {import(\"./pixel.js\").Pixel} pixel CSS pixel relative to the top-left\r\n * corner of the map viewport.\r\n * @returns {import(\"./pixel.js\").Pixel} Pixel on the event's canvas context.\r\n * @api\r\n */\n\n\nfunction getRenderPixel(event, pixel) {\n  var result = pixel.slice(0);\n  (0, _transform.apply)(event.inversePixelTransform.slice(), result);\n  return result;\n}\n/**\r\n * @param {import(\"./PluggableMap.js\").FrameState} frameState Frame state.\r\n * @param {?} declutterTree Declutter tree.\r\n * @returns {?} Declutter tree.\r\n */\n\n\nfunction renderDeclutterItems(frameState, declutterTree) {\n  if (declutterTree) {\n    declutterTree.clear();\n  }\n\n  var items = frameState.declutterItems;\n\n  for (var z = items.length - 1; z >= 0; --z) {\n    var item = items[z];\n    var zIndexItems = item.items;\n\n    for (var i = 0, ii = zIndexItems.length; i < ii; i += 3) {\n      declutterTree = zIndexItems[i].renderDeclutter(zIndexItems[i + 1], zIndexItems[i + 2], item.opacity, declutterTree);\n    }\n  }\n\n  items.length = 0;\n  return declutterTree;\n}"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":11,"column":0},"source":"src/ol/render.js","original":{"line":4,"column":0}},{"generated":{"line":13,"column":0},"source":"src/ol/render.js","original":{"line":5,"column":0}},{"generated":{"line":15,"column":0},"source":"src/ol/render.js","original":{"line":11,"column":0}},{"generated":{"line":19,"column":0},"source":"src/ol/render.js","original":{"line":1,"column":0}},{"generated":{"line":23,"column":0},"source":"src/ol/render.js","original":{"line":14,"column":0}},{"generated":{"line":34,"column":0},"source":"src/ol/render.js","original":{"line":26,"column":0}},{"generated":{"line":42,"column":0},"source":"src/ol/render.js","original":{"line":35,"column":0}},{"generated":{"line":52,"column":0},"source":"src/ol/render.js","original":{"line":46,"column":0}},{"generated":{"line":76,"column":0},"source":"src/ol/render.js","original":{"line":70,"column":7}},{"name":"toContext","generated":{"line":76,"column":9},"source":"src/ol/render.js","original":{"line":70,"column":16}},{"generated":{"line":76,"column":18},"source":"src/ol/render.js","original":{"line":70,"column":7}},{"name":"context","generated":{"line":76,"column":19},"source":"src/ol/render.js","original":{"line":70,"column":26}},{"generated":{"line":76,"column":26},"source":"src/ol/render.js","original":{"line":70,"column":7}},{"name":"opt_options","generated":{"line":76,"column":28},"source":"src/ol/render.js","original":{"line":70,"column":35}},{"generated":{"line":76,"column":39},"source":"src/ol/render.js","original":{"line":70,"column":7}},{"generated":{"line":76,"column":41},"source":"src/ol/render.js","original":{"line":70,"column":48}},{"generated":{"line":77,"column":0},"source":"src/ol/render.js","original":{"line":71,"column":2}},{"name":"canvas","generated":{"line":77,"column":6},"source":"src/ol/render.js","original":{"line":71,"column":8}},{"generated":{"line":77,"column":12},"source":"src/ol/render.js","original":{"line":71,"column":14}},{"name":"context","generated":{"line":77,"column":15},"source":"src/ol/render.js","original":{"line":71,"column":17}},{"generated":{"line":77,"column":22},"source":"src/ol/render.js","original":{"line":71,"column":24}},{"name":"canvas","generated":{"line":77,"column":23},"source":"src/ol/render.js","original":{"line":71,"column":25}},{"generated":{"line":77,"column":29},"source":"src/ol/render.js","original":{"line":71,"column":2}},{"generated":{"line":78,"column":0},"source":"src/ol/render.js","original":{"line":72,"column":2}},{"name":"options","generated":{"line":78,"column":6},"source":"src/ol/render.js","original":{"line":72,"column":8}},{"generated":{"line":78,"column":13},"source":"src/ol/render.js","original":{"line":72,"column":15}},{"name":"opt_options","generated":{"line":78,"column":16},"source":"src/ol/render.js","original":{"line":72,"column":18}},{"generated":{"line":78,"column":27},"source":"src/ol/render.js","original":{"line":72,"column":29}},{"name":"opt_options","generated":{"line":78,"column":30},"source":"src/ol/render.js","original":{"line":72,"column":32}},{"generated":{"line":78,"column":41},"source":"src/ol/render.js","original":{"line":72,"column":29}},{"generated":{"line":78,"column":44},"source":"src/ol/render.js","original":{"line":72,"column":46}},{"generated":{"line":78,"column":46},"source":"src/ol/render.js","original":{"line":72,"column":2}},{"generated":{"line":79,"column":0},"source":"src/ol/render.js","original":{"line":73,"column":2}},{"name":"pixelRatio","generated":{"line":79,"column":6},"source":"src/ol/render.js","original":{"line":73,"column":8}},{"generated":{"line":79,"column":16},"source":"src/ol/render.js","original":{"line":73,"column":18}},{"name":"options","generated":{"line":79,"column":19},"source":"src/ol/render.js","original":{"line":73,"column":21}},{"generated":{"line":79,"column":26},"source":"src/ol/render.js","original":{"line":73,"column":28}},{"name":"pixelRatio","generated":{"line":79,"column":27},"source":"src/ol/render.js","original":{"line":73,"column":29}},{"generated":{"line":79,"column":37},"source":"src/ol/render.js","original":{"line":73,"column":21}},{"name":"DEVICE_PIXEL_RATIO","generated":{"line":79,"column":41},"source":"src/ol/render.js","original":{"line":73,"column":43}},{"generated":{"line":79,"column":64},"source":"src/ol/render.js","original":{"line":73,"column":2}},{"generated":{"line":80,"column":0},"source":"src/ol/render.js","original":{"line":74,"column":2}},{"name":"size","generated":{"line":80,"column":6},"source":"src/ol/render.js","original":{"line":74,"column":8}},{"generated":{"line":80,"column":10},"source":"src/ol/render.js","original":{"line":74,"column":12}},{"name":"options","generated":{"line":80,"column":13},"source":"src/ol/render.js","original":{"line":74,"column":15}},{"generated":{"line":80,"column":20},"source":"src/ol/render.js","original":{"line":74,"column":22}},{"name":"size","generated":{"line":80,"column":21},"source":"src/ol/render.js","original":{"line":74,"column":23}},{"generated":{"line":80,"column":25},"source":"src/ol/render.js","original":{"line":74,"column":2}},{"generated":{"line":82,"column":0},"source":"src/ol/render.js","original":{"line":75,"column":2}},{"name":"size","generated":{"line":82,"column":6},"source":"src/ol/render.js","original":{"line":75,"column":6}},{"generated":{"line":82,"column":10},"source":"src/ol/render.js","original":{"line":75,"column":2}},{"generated":{"line":82,"column":12},"source":"src/ol/render.js","original":{"line":75,"column":12}},{"name":"canvas","generated":{"line":83,"column":0},"source":"src/ol/render.js","original":{"line":76,"column":4}},{"name":"canvas","generated":{"line":83,"column":4},"source":"src/ol/render.js","original":{"line":76,"column":4}},{"generated":{"line":83,"column":10},"source":"src/ol/render.js","original":{"line":76,"column":10}},{"name":"width","generated":{"line":83,"column":11},"source":"src/ol/render.js","original":{"line":76,"column":11}},{"generated":{"line":83,"column":16},"source":"src/ol/render.js","original":{"line":76,"column":4}},{"name":"size","generated":{"line":83,"column":19},"source":"src/ol/render.js","original":{"line":76,"column":19}},{"generated":{"line":83,"column":23},"source":"src/ol/render.js","original":{"line":76,"column":23}},{"generated":{"line":83,"column":24},"source":"src/ol/render.js","original":{"line":76,"column":24}},{"generated":{"line":83,"column":25},"source":"src/ol/render.js","original":{"line":76,"column":23}},{"generated":{"line":83,"column":26},"source":"src/ol/render.js","original":{"line":76,"column":19}},{"name":"pixelRatio","generated":{"line":83,"column":29},"source":"src/ol/render.js","original":{"line":76,"column":29}},{"generated":{"line":83,"column":39},"source":"src/ol/render.js","original":{"line":76,"column":4}},{"name":"canvas","generated":{"line":84,"column":0},"source":"src/ol/render.js","original":{"line":77,"column":4}},{"name":"canvas","generated":{"line":84,"column":4},"source":"src/ol/render.js","original":{"line":77,"column":4}},{"generated":{"line":84,"column":10},"source":"src/ol/render.js","original":{"line":77,"column":10}},{"name":"height","generated":{"line":84,"column":11},"source":"src/ol/render.js","original":{"line":77,"column":11}},{"generated":{"line":84,"column":17},"source":"src/ol/render.js","original":{"line":77,"column":4}},{"name":"size","generated":{"line":84,"column":20},"source":"src/ol/render.js","original":{"line":77,"column":20}},{"generated":{"line":84,"column":24},"source":"src/ol/render.js","original":{"line":77,"column":24}},{"generated":{"line":84,"column":25},"source":"src/ol/render.js","original":{"line":77,"column":25}},{"generated":{"line":84,"column":26},"source":"src/ol/render.js","original":{"line":77,"column":24}},{"generated":{"line":84,"column":27},"source":"src/ol/render.js","original":{"line":77,"column":20}},{"name":"pixelRatio","generated":{"line":84,"column":30},"source":"src/ol/render.js","original":{"line":77,"column":30}},{"generated":{"line":84,"column":40},"source":"src/ol/render.js","original":{"line":77,"column":4}},{"name":"canvas","generated":{"line":85,"column":0},"source":"src/ol/render.js","original":{"line":78,"column":4}},{"name":"canvas","generated":{"line":85,"column":4},"source":"src/ol/render.js","original":{"line":78,"column":4}},{"generated":{"line":85,"column":10},"source":"src/ol/render.js","original":{"line":78,"column":10}},{"name":"style","generated":{"line":85,"column":11},"source":"src/ol/render.js","original":{"line":78,"column":11}},{"generated":{"line":85,"column":16},"source":"src/ol/render.js","original":{"line":78,"column":4}},{"name":"width","generated":{"line":85,"column":17},"source":"src/ol/render.js","original":{"line":78,"column":17}},{"generated":{"line":85,"column":22},"source":"src/ol/render.js","original":{"line":78,"column":4}},{"name":"size","generated":{"line":85,"column":25},"source":"src/ol/render.js","original":{"line":78,"column":25}},{"generated":{"line":85,"column":29},"source":"src/ol/render.js","original":{"line":78,"column":29}},{"generated":{"line":85,"column":30},"source":"src/ol/render.js","original":{"line":78,"column":30}},{"generated":{"line":85,"column":31},"source":"src/ol/render.js","original":{"line":78,"column":29}},{"generated":{"line":85,"column":32},"source":"src/ol/render.js","original":{"line":78,"column":25}},{"generated":{"line":85,"column":35},"source":"src/ol/render.js","original":{"line":78,"column":35}},{"generated":{"line":85,"column":39},"source":"src/ol/render.js","original":{"line":78,"column":4}},{"name":"canvas","generated":{"line":86,"column":0},"source":"src/ol/render.js","original":{"line":79,"column":4}},{"name":"canvas","generated":{"line":86,"column":4},"source":"src/ol/render.js","original":{"line":79,"column":4}},{"generated":{"line":86,"column":10},"source":"src/ol/render.js","original":{"line":79,"column":10}},{"name":"style","generated":{"line":86,"column":11},"source":"src/ol/render.js","original":{"line":79,"column":11}},{"generated":{"line":86,"column":16},"source":"src/ol/render.js","original":{"line":79,"column":4}},{"name":"height","generated":{"line":86,"column":17},"source":"src/ol/render.js","original":{"line":79,"column":17}},{"generated":{"line":86,"column":23},"source":"src/ol/render.js","original":{"line":79,"column":4}},{"name":"size","generated":{"line":86,"column":26},"source":"src/ol/render.js","original":{"line":79,"column":26}},{"generated":{"line":86,"column":30},"source":"src/ol/render.js","original":{"line":79,"column":30}},{"generated":{"line":86,"column":31},"source":"src/ol/render.js","original":{"line":79,"column":31}},{"generated":{"line":86,"column":32},"source":"src/ol/render.js","original":{"line":79,"column":30}},{"generated":{"line":86,"column":33},"source":"src/ol/render.js","original":{"line":79,"column":26}},{"generated":{"line":86,"column":36},"source":"src/ol/render.js","original":{"line":79,"column":36}},{"generated":{"line":86,"column":40},"source":"src/ol/render.js","original":{"line":79,"column":4}},{"generated":{"line":87,"column":0},"source":"src/ol/render.js","original":{"line":80,"column":3}},{"generated":{"line":89,"column":0},"source":"src/ol/render.js","original":{"line":81,"column":2}},{"name":"extent","generated":{"line":89,"column":6},"source":"src/ol/render.js","original":{"line":81,"column":8}},{"generated":{"line":89,"column":12},"source":"src/ol/render.js","original":{"line":81,"column":14}},{"generated":{"line":89,"column":15},"source":"src/ol/render.js","original":{"line":81,"column":17}},{"generated":{"line":89,"column":16},"source":"src/ol/render.js","original":{"line":81,"column":18}},{"generated":{"line":89,"column":17},"source":"src/ol/render.js","original":{"line":81,"column":17}},{"generated":{"line":89,"column":19},"source":"src/ol/render.js","original":{"line":81,"column":21}},{"generated":{"line":89,"column":20},"source":"src/ol/render.js","original":{"line":81,"column":17}},{"name":"canvas","generated":{"line":89,"column":22},"source":"src/ol/render.js","original":{"line":81,"column":24}},{"generated":{"line":89,"column":28},"source":"src/ol/render.js","original":{"line":81,"column":30}},{"name":"width","generated":{"line":89,"column":29},"source":"src/ol/render.js","original":{"line":81,"column":31}},{"generated":{"line":89,"column":34},"source":"src/ol/render.js","original":{"line":81,"column":17}},{"name":"canvas","generated":{"line":89,"column":36},"source":"src/ol/render.js","original":{"line":81,"column":38}},{"generated":{"line":89,"column":42},"source":"src/ol/render.js","original":{"line":81,"column":44}},{"name":"height","generated":{"line":89,"column":43},"source":"src/ol/render.js","original":{"line":81,"column":45}},{"generated":{"line":89,"column":49},"source":"src/ol/render.js","original":{"line":81,"column":17}},{"generated":{"line":89,"column":50},"source":"src/ol/render.js","original":{"line":81,"column":2}},{"generated":{"line":90,"column":0},"source":"src/ol/render.js","original":{"line":82,"column":2}},{"name":"transform","generated":{"line":90,"column":6},"source":"src/ol/render.js","original":{"line":82,"column":8}},{"generated":{"line":90,"column":15},"source":"src/ol/render.js","original":{"line":82,"column":17}},{"generated":{"line":90,"column":18},"source":"src/ol/render.js","original":{"line":82,"column":20}},{"generated":{"line":90,"column":40},"source":"src/ol/render.js","original":{"line":82,"column":35}},{"generated":{"line":90,"column":64},"source":"src/ol/render.js","original":{"line":82,"column":20}},{"name":"pixelRatio","generated":{"line":90,"column":66},"source":"src/ol/render.js","original":{"line":82,"column":54}},{"generated":{"line":90,"column":76},"source":"src/ol/render.js","original":{"line":82,"column":20}},{"name":"pixelRatio","generated":{"line":90,"column":78},"source":"src/ol/render.js","original":{"line":82,"column":66}},{"generated":{"line":90,"column":88},"source":"src/ol/render.js","original":{"line":82,"column":20}},{"generated":{"line":90,"column":89},"source":"src/ol/render.js","original":{"line":82,"column":2}},{"generated":{"line":91,"column":0},"source":"src/ol/render.js","original":{"line":83,"column":2}},{"generated":{"line":91,"column":9},"source":"src/ol/render.js","original":{"line":83,"column":9}},{"name":"CanvasImmediateRenderer","generated":{"line":91,"column":13},"source":"src/ol/render.js","original":{"line":83,"column":13}},{"generated":{"line":91,"column":31},"source":"src/ol/render.js","original":{"line":83,"column":9}},{"name":"context","generated":{"line":91,"column":32},"source":"src/ol/render.js","original":{"line":83,"column":37}},{"generated":{"line":91,"column":39},"source":"src/ol/render.js","original":{"line":83,"column":9}},{"name":"pixelRatio","generated":{"line":91,"column":41},"source":"src/ol/render.js","original":{"line":83,"column":46}},{"generated":{"line":91,"column":51},"source":"src/ol/render.js","original":{"line":83,"column":9}},{"name":"extent","generated":{"line":91,"column":53},"source":"src/ol/render.js","original":{"line":83,"column":58}},{"generated":{"line":91,"column":59},"source":"src/ol/render.js","original":{"line":83,"column":9}},{"name":"transform","generated":{"line":91,"column":61},"source":"src/ol/render.js","original":{"line":83,"column":66}},{"generated":{"line":91,"column":70},"source":"src/ol/render.js","original":{"line":83,"column":9}},{"generated":{"line":91,"column":72},"source":"src/ol/render.js","original":{"line":83,"column":77}},{"generated":{"line":91,"column":73},"source":"src/ol/render.js","original":{"line":83,"column":9}},{"generated":{"line":91,"column":74},"source":"src/ol/render.js","original":{"line":83,"column":2}},{"generated":{"line":92,"column":0},"source":"src/ol/render.js","original":{"line":84,"column":1}},{"generated":{"line":93,"column":0},"source":"src/ol/render.js","original":{"line":86,"column":0}},{"generated":{"line":101,"column":0},"source":"src/ol/render.js","original":{"line":92,"column":7}},{"name":"getVectorContext","generated":{"line":101,"column":9},"source":"src/ol/render.js","original":{"line":92,"column":16}},{"generated":{"line":101,"column":25},"source":"src/ol/render.js","original":{"line":92,"column":7}},{"name":"event","generated":{"line":101,"column":26},"source":"src/ol/render.js","original":{"line":92,"column":33}},{"generated":{"line":101,"column":31},"source":"src/ol/render.js","original":{"line":92,"column":7}},{"generated":{"line":101,"column":33},"source":"src/ol/render.js","original":{"line":92,"column":40}},{"generated":{"line":102,"column":0},"source":"src/ol/render.js","original":{"line":93,"column":2}},{"name":"frameState","generated":{"line":102,"column":6},"source":"src/ol/render.js","original":{"line":93,"column":8}},{"generated":{"line":102,"column":16},"source":"src/ol/render.js","original":{"line":93,"column":18}},{"name":"event","generated":{"line":102,"column":19},"source":"src/ol/render.js","original":{"line":93,"column":21}},{"generated":{"line":102,"column":24},"source":"src/ol/render.js","original":{"line":93,"column":26}},{"name":"frameState","generated":{"line":102,"column":25},"source":"src/ol/render.js","original":{"line":93,"column":27}},{"generated":{"line":102,"column":35},"source":"src/ol/render.js","original":{"line":93,"column":2}},{"generated":{"line":103,"column":0},"source":"src/ol/render.js","original":{"line":94,"column":2}},{"name":"transform","generated":{"line":103,"column":6},"source":"src/ol/render.js","original":{"line":94,"column":8}},{"generated":{"line":103,"column":15},"source":"src/ol/render.js","original":{"line":94,"column":17}},{"generated":{"line":103,"column":18},"source":"src/ol/render.js","original":{"line":94,"column":20}},{"name":"event","generated":{"line":103,"column":43},"source":"src/ol/render.js","original":{"line":94,"column":38}},{"generated":{"line":103,"column":48},"source":"src/ol/render.js","original":{"line":94,"column":43}},{"name":"inversePixelTransform","generated":{"line":103,"column":49},"source":"src/ol/render.js","original":{"line":94,"column":44}},{"generated":{"line":103,"column":70},"source":"src/ol/render.js","original":{"line":94,"column":38}},{"name":"slice","generated":{"line":103,"column":71},"source":"src/ol/render.js","original":{"line":94,"column":66}},{"generated":{"line":103,"column":76},"source":"src/ol/render.js","original":{"line":94,"column":38}},{"generated":{"line":103,"column":78},"source":"src/ol/render.js","original":{"line":94,"column":20}},{"name":"frameState","generated":{"line":103,"column":80},"source":"src/ol/render.js","original":{"line":94,"column":75}},{"generated":{"line":103,"column":90},"source":"src/ol/render.js","original":{"line":94,"column":85}},{"name":"coordinateToPixelTransform","generated":{"line":103,"column":91},"source":"src/ol/render.js","original":{"line":94,"column":86}},{"generated":{"line":103,"column":117},"source":"src/ol/render.js","original":{"line":94,"column":20}},{"generated":{"line":103,"column":118},"source":"src/ol/render.js","original":{"line":94,"column":2}},{"generated":{"line":104,"column":0},"source":"src/ol/render.js","original":{"line":95,"column":2}},{"generated":{"line":104,"column":9},"source":"src/ol/render.js","original":{"line":95,"column":9}},{"name":"CanvasImmediateRenderer","generated":{"line":104,"column":13},"source":"src/ol/render.js","original":{"line":95,"column":13}},{"generated":{"line":104,"column":31},"source":"src/ol/render.js","original":{"line":95,"column":9}},{"name":"event","generated":{"line":104,"column":32},"source":"src/ol/render.js","original":{"line":96,"column":4}},{"generated":{"line":104,"column":37},"source":"src/ol/render.js","original":{"line":96,"column":9}},{"name":"context","generated":{"line":104,"column":38},"source":"src/ol/render.js","original":{"line":96,"column":10}},{"generated":{"line":104,"column":45},"source":"src/ol/render.js","original":{"line":95,"column":9}},{"name":"frameState","generated":{"line":104,"column":47},"source":"src/ol/render.js","original":{"line":96,"column":19}},{"generated":{"line":104,"column":57},"source":"src/ol/render.js","original":{"line":96,"column":29}},{"name":"pixelRatio","generated":{"line":104,"column":58},"source":"src/ol/render.js","original":{"line":96,"column":30}},{"generated":{"line":104,"column":68},"source":"src/ol/render.js","original":{"line":95,"column":9}},{"name":"frameState","generated":{"line":104,"column":70},"source":"src/ol/render.js","original":{"line":96,"column":42}},{"generated":{"line":104,"column":80},"source":"src/ol/render.js","original":{"line":96,"column":52}},{"name":"extent","generated":{"line":104,"column":81},"source":"src/ol/render.js","original":{"line":96,"column":53}},{"generated":{"line":104,"column":87},"source":"src/ol/render.js","original":{"line":95,"column":9}},{"name":"transform","generated":{"line":104,"column":89},"source":"src/ol/render.js","original":{"line":96,"column":61}},{"generated":{"line":104,"column":98},"source":"src/ol/render.js","original":{"line":95,"column":9}},{"name":"frameState","generated":{"line":104,"column":100},"source":"src/ol/render.js","original":{"line":97,"column":4}},{"generated":{"line":104,"column":110},"source":"src/ol/render.js","original":{"line":97,"column":14}},{"name":"viewState","generated":{"line":104,"column":111},"source":"src/ol/render.js","original":{"line":97,"column":15}},{"generated":{"line":104,"column":120},"source":"src/ol/render.js","original":{"line":97,"column":4}},{"name":"rotation","generated":{"line":104,"column":121},"source":"src/ol/render.js","original":{"line":97,"column":25}},{"generated":{"line":104,"column":129},"source":"src/ol/render.js","original":{"line":95,"column":9}},{"generated":{"line":104,"column":130},"source":"src/ol/render.js","original":{"line":95,"column":2}},{"generated":{"line":105,"column":0},"source":"src/ol/render.js","original":{"line":98,"column":1}},{"generated":{"line":106,"column":0},"source":"src/ol/render.js","original":{"line":100,"column":0}},{"generated":{"line":116,"column":0},"source":"src/ol/render.js","original":{"line":108,"column":7}},{"name":"getRenderPixel","generated":{"line":116,"column":9},"source":"src/ol/render.js","original":{"line":108,"column":16}},{"generated":{"line":116,"column":23},"source":"src/ol/render.js","original":{"line":108,"column":7}},{"name":"event","generated":{"line":116,"column":24},"source":"src/ol/render.js","original":{"line":108,"column":31}},{"generated":{"line":116,"column":29},"source":"src/ol/render.js","original":{"line":108,"column":7}},{"name":"pixel","generated":{"line":116,"column":31},"source":"src/ol/render.js","original":{"line":108,"column":38}},{"generated":{"line":116,"column":36},"source":"src/ol/render.js","original":{"line":108,"column":7}},{"generated":{"line":116,"column":38},"source":"src/ol/render.js","original":{"line":108,"column":45}},{"generated":{"line":117,"column":0},"source":"src/ol/render.js","original":{"line":109,"column":2}},{"name":"result","generated":{"line":117,"column":6},"source":"src/ol/render.js","original":{"line":109,"column":8}},{"generated":{"line":117,"column":12},"source":"src/ol/render.js","original":{"line":109,"column":14}},{"name":"pixel","generated":{"line":117,"column":15},"source":"src/ol/render.js","original":{"line":109,"column":17}},{"generated":{"line":117,"column":20},"source":"src/ol/render.js","original":{"line":109,"column":22}},{"name":"slice","generated":{"line":117,"column":21},"source":"src/ol/render.js","original":{"line":109,"column":23}},{"generated":{"line":117,"column":26},"source":"src/ol/render.js","original":{"line":109,"column":17}},{"generated":{"line":117,"column":27},"source":"src/ol/render.js","original":{"line":109,"column":29}},{"generated":{"line":117,"column":28},"source":"src/ol/render.js","original":{"line":109,"column":17}},{"generated":{"line":117,"column":29},"source":"src/ol/render.js","original":{"line":109,"column":2}},{"generated":{"line":118,"column":0},"source":"src/ol/render.js","original":{"line":110,"column":2}},{"name":"event","generated":{"line":118,"column":24},"source":"src/ol/render.js","original":{"line":110,"column":17}},{"generated":{"line":118,"column":29},"source":"src/ol/render.js","original":{"line":110,"column":22}},{"name":"inversePixelTransform","generated":{"line":118,"column":30},"source":"src/ol/render.js","original":{"line":110,"column":23}},{"generated":{"line":118,"column":51},"source":"src/ol/render.js","original":{"line":110,"column":17}},{"name":"slice","generated":{"line":118,"column":52},"source":"src/ol/render.js","original":{"line":110,"column":45}},{"generated":{"line":118,"column":57},"source":"src/ol/render.js","original":{"line":110,"column":17}},{"generated":{"line":118,"column":59},"source":"src/ol/render.js","original":{"line":110,"column":2}},{"name":"result","generated":{"line":118,"column":61},"source":"src/ol/render.js","original":{"line":110,"column":54}},{"generated":{"line":118,"column":67},"source":"src/ol/render.js","original":{"line":110,"column":2}},{"generated":{"line":119,"column":0},"source":"src/ol/render.js","original":{"line":111,"column":2}},{"name":"result","generated":{"line":119,"column":9},"source":"src/ol/render.js","original":{"line":111,"column":9}},{"generated":{"line":119,"column":15},"source":"src/ol/render.js","original":{"line":111,"column":2}},{"generated":{"line":120,"column":0},"source":"src/ol/render.js","original":{"line":112,"column":1}},{"generated":{"line":121,"column":0},"source":"src/ol/render.js","original":{"line":114,"column":0}},{"generated":{"line":128,"column":0},"source":"src/ol/render.js","original":{"line":119,"column":7}},{"name":"renderDeclutterItems","generated":{"line":128,"column":9},"source":"src/ol/render.js","original":{"line":119,"column":16}},{"generated":{"line":128,"column":29},"source":"src/ol/render.js","original":{"line":119,"column":7}},{"name":"frameState","generated":{"line":128,"column":30},"source":"src/ol/render.js","original":{"line":119,"column":37}},{"generated":{"line":128,"column":40},"source":"src/ol/render.js","original":{"line":119,"column":7}},{"name":"declutterTree","generated":{"line":128,"column":42},"source":"src/ol/render.js","original":{"line":119,"column":49}},{"generated":{"line":128,"column":55},"source":"src/ol/render.js","original":{"line":119,"column":7}},{"generated":{"line":128,"column":57},"source":"src/ol/render.js","original":{"line":119,"column":64}},{"generated":{"line":129,"column":0},"source":"src/ol/render.js","original":{"line":120,"column":2}},{"name":"declutterTree","generated":{"line":129,"column":6},"source":"src/ol/render.js","original":{"line":120,"column":6}},{"generated":{"line":129,"column":19},"source":"src/ol/render.js","original":{"line":120,"column":2}},{"generated":{"line":129,"column":21},"source":"src/ol/render.js","original":{"line":120,"column":21}},{"name":"declutterTree","generated":{"line":130,"column":0},"source":"src/ol/render.js","original":{"line":121,"column":4}},{"name":"declutterTree","generated":{"line":130,"column":4},"source":"src/ol/render.js","original":{"line":121,"column":4}},{"generated":{"line":130,"column":17},"source":"src/ol/render.js","original":{"line":121,"column":17}},{"name":"clear","generated":{"line":130,"column":18},"source":"src/ol/render.js","original":{"line":121,"column":18}},{"generated":{"line":130,"column":23},"source":"src/ol/render.js","original":{"line":121,"column":4}},{"generated":{"line":131,"column":0},"source":"src/ol/render.js","original":{"line":122,"column":3}},{"generated":{"line":133,"column":0},"source":"src/ol/render.js","original":{"line":123,"column":2}},{"name":"items","generated":{"line":133,"column":6},"source":"src/ol/render.js","original":{"line":123,"column":8}},{"generated":{"line":133,"column":11},"source":"src/ol/render.js","original":{"line":123,"column":13}},{"name":"frameState","generated":{"line":133,"column":14},"source":"src/ol/render.js","original":{"line":123,"column":16}},{"generated":{"line":133,"column":24},"source":"src/ol/render.js","original":{"line":123,"column":26}},{"name":"declutterItems","generated":{"line":133,"column":25},"source":"src/ol/render.js","original":{"line":123,"column":27}},{"generated":{"line":133,"column":39},"source":"src/ol/render.js","original":{"line":123,"column":2}},{"generated":{"line":135,"column":0},"source":"src/ol/render.js","original":{"line":124,"column":2}},{"generated":{"line":135,"column":7},"source":"src/ol/render.js","original":{"line":124,"column":7}},{"name":"z","generated":{"line":135,"column":11},"source":"src/ol/render.js","original":{"line":124,"column":11}},{"generated":{"line":135,"column":12},"source":"src/ol/render.js","original":{"line":124,"column":12}},{"name":"items","generated":{"line":135,"column":15},"source":"src/ol/render.js","original":{"line":124,"column":15}},{"generated":{"line":135,"column":20},"source":"src/ol/render.js","original":{"line":124,"column":20}},{"name":"length","generated":{"line":135,"column":21},"source":"src/ol/render.js","original":{"line":124,"column":21}},{"generated":{"line":135,"column":27},"source":"src/ol/render.js","original":{"line":124,"column":15}},{"generated":{"line":135,"column":30},"source":"src/ol/render.js","original":{"line":124,"column":30}},{"generated":{"line":135,"column":31},"source":"src/ol/render.js","original":{"line":124,"column":2}},{"name":"z","generated":{"line":135,"column":33},"source":"src/ol/render.js","original":{"line":124,"column":33}},{"generated":{"line":135,"column":34},"source":"src/ol/render.js","original":{"line":124,"column":34}},{"generated":{"line":135,"column":38},"source":"src/ol/render.js","original":{"line":124,"column":38}},{"generated":{"line":135,"column":39},"source":"src/ol/render.js","original":{"line":124,"column":2}},{"generated":{"line":135,"column":41},"source":"src/ol/render.js","original":{"line":124,"column":41}},{"name":"z","generated":{"line":135,"column":43},"source":"src/ol/render.js","original":{"line":124,"column":43}},{"generated":{"line":135,"column":44},"source":"src/ol/render.js","original":{"line":124,"column":2}},{"generated":{"line":135,"column":46},"source":"src/ol/render.js","original":{"line":124,"column":46}},{"generated":{"line":136,"column":0},"source":"src/ol/render.js","original":{"line":125,"column":4}},{"name":"item","generated":{"line":136,"column":8},"source":"src/ol/render.js","original":{"line":125,"column":10}},{"generated":{"line":136,"column":12},"source":"src/ol/render.js","original":{"line":125,"column":14}},{"name":"items","generated":{"line":136,"column":15},"source":"src/ol/render.js","original":{"line":125,"column":17}},{"generated":{"line":136,"column":20},"source":"src/ol/render.js","original":{"line":125,"column":22}},{"name":"z","generated":{"line":136,"column":21},"source":"src/ol/render.js","original":{"line":125,"column":23}},{"generated":{"line":136,"column":22},"source":"src/ol/render.js","original":{"line":125,"column":22}},{"generated":{"line":136,"column":23},"source":"src/ol/render.js","original":{"line":125,"column":4}},{"generated":{"line":137,"column":0},"source":"src/ol/render.js","original":{"line":126,"column":4}},{"name":"zIndexItems","generated":{"line":137,"column":8},"source":"src/ol/render.js","original":{"line":126,"column":10}},{"generated":{"line":137,"column":19},"source":"src/ol/render.js","original":{"line":126,"column":21}},{"name":"item","generated":{"line":137,"column":22},"source":"src/ol/render.js","original":{"line":126,"column":24}},{"generated":{"line":137,"column":26},"source":"src/ol/render.js","original":{"line":126,"column":28}},{"name":"items","generated":{"line":137,"column":27},"source":"src/ol/render.js","original":{"line":126,"column":29}},{"generated":{"line":137,"column":32},"source":"src/ol/render.js","original":{"line":126,"column":4}},{"generated":{"line":139,"column":0},"source":"src/ol/render.js","original":{"line":127,"column":4}},{"generated":{"line":139,"column":9},"source":"src/ol/render.js","original":{"line":127,"column":9}},{"name":"i","generated":{"line":139,"column":13},"source":"src/ol/render.js","original":{"line":127,"column":13}},{"generated":{"line":139,"column":14},"source":"src/ol/render.js","original":{"line":127,"column":14}},{"generated":{"line":139,"column":17},"source":"src/ol/render.js","original":{"line":127,"column":17}},{"generated":{"line":139,"column":18},"source":"src/ol/render.js","original":{"line":127,"column":9}},{"name":"ii","generated":{"line":139,"column":20},"source":"src/ol/render.js","original":{"line":127,"column":20}},{"generated":{"line":139,"column":22},"source":"src/ol/render.js","original":{"line":127,"column":22}},{"name":"zIndexItems","generated":{"line":139,"column":25},"source":"src/ol/render.js","original":{"line":127,"column":25}},{"generated":{"line":139,"column":36},"source":"src/ol/render.js","original":{"line":127,"column":36}},{"name":"length","generated":{"line":139,"column":37},"source":"src/ol/render.js","original":{"line":127,"column":37}},{"generated":{"line":139,"column":43},"source":"src/ol/render.js","original":{"line":127,"column":4}},{"name":"i","generated":{"line":139,"column":45},"source":"src/ol/render.js","original":{"line":127,"column":45}},{"generated":{"line":139,"column":46},"source":"src/ol/render.js","original":{"line":127,"column":46}},{"name":"ii","generated":{"line":139,"column":49},"source":"src/ol/render.js","original":{"line":127,"column":49}},{"generated":{"line":139,"column":51},"source":"src/ol/render.js","original":{"line":127,"column":4}},{"name":"i","generated":{"line":139,"column":53},"source":"src/ol/render.js","original":{"line":127,"column":53}},{"generated":{"line":139,"column":54},"source":"src/ol/render.js","original":{"line":127,"column":54}},{"generated":{"line":139,"column":58},"source":"src/ol/render.js","original":{"line":127,"column":58}},{"generated":{"line":139,"column":59},"source":"src/ol/render.js","original":{"line":127,"column":4}},{"generated":{"line":139,"column":61},"source":"src/ol/render.js","original":{"line":127,"column":61}},{"name":"declutterTree","generated":{"line":140,"column":0},"source":"src/ol/render.js","original":{"line":128,"column":6}},{"name":"declutterTree","generated":{"line":140,"column":6},"source":"src/ol/render.js","original":{"line":128,"column":6}},{"generated":{"line":140,"column":19},"source":"src/ol/render.js","original":{"line":128,"column":19}},{"name":"zIndexItems","generated":{"line":140,"column":22},"source":"src/ol/render.js","original":{"line":128,"column":22}},{"generated":{"line":140,"column":33},"source":"src/ol/render.js","original":{"line":128,"column":33}},{"name":"i","generated":{"line":140,"column":34},"source":"src/ol/render.js","original":{"line":128,"column":34}},{"generated":{"line":140,"column":35},"source":"src/ol/render.js","original":{"line":128,"column":33}},{"generated":{"line":140,"column":36},"source":"src/ol/render.js","original":{"line":128,"column":22}},{"name":"renderDeclutter","generated":{"line":140,"column":37},"source":"src/ol/render.js","original":{"line":128,"column":37}},{"generated":{"line":140,"column":52},"source":"src/ol/render.js","original":{"line":128,"column":22}},{"name":"zIndexItems","generated":{"line":140,"column":53},"source":"src/ol/render.js","original":{"line":128,"column":53}},{"generated":{"line":140,"column":64},"source":"src/ol/render.js","original":{"line":128,"column":64}},{"name":"i","generated":{"line":140,"column":65},"source":"src/ol/render.js","original":{"line":128,"column":65}},{"generated":{"line":140,"column":66},"source":"src/ol/render.js","original":{"line":128,"column":66}},{"generated":{"line":140,"column":69},"source":"src/ol/render.js","original":{"line":128,"column":69}},{"generated":{"line":140,"column":70},"source":"src/ol/render.js","original":{"line":128,"column":64}},{"generated":{"line":140,"column":71},"source":"src/ol/render.js","original":{"line":128,"column":22}},{"name":"zIndexItems","generated":{"line":140,"column":73},"source":"src/ol/render.js","original":{"line":128,"column":73}},{"generated":{"line":140,"column":84},"source":"src/ol/render.js","original":{"line":128,"column":84}},{"name":"i","generated":{"line":140,"column":85},"source":"src/ol/render.js","original":{"line":128,"column":85}},{"generated":{"line":140,"column":86},"source":"src/ol/render.js","original":{"line":128,"column":86}},{"generated":{"line":140,"column":89},"source":"src/ol/render.js","original":{"line":128,"column":89}},{"generated":{"line":140,"column":90},"source":"src/ol/render.js","original":{"line":128,"column":84}},{"generated":{"line":140,"column":91},"source":"src/ol/render.js","original":{"line":128,"column":22}},{"name":"item","generated":{"line":140,"column":93},"source":"src/ol/render.js","original":{"line":128,"column":93}},{"generated":{"line":140,"column":97},"source":"src/ol/render.js","original":{"line":128,"column":97}},{"name":"opacity","generated":{"line":140,"column":98},"source":"src/ol/render.js","original":{"line":128,"column":98}},{"generated":{"line":140,"column":105},"source":"src/ol/render.js","original":{"line":128,"column":22}},{"name":"declutterTree","generated":{"line":140,"column":107},"source":"src/ol/render.js","original":{"line":128,"column":107}},{"generated":{"line":140,"column":120},"source":"src/ol/render.js","original":{"line":128,"column":22}},{"generated":{"line":140,"column":121},"source":"src/ol/render.js","original":{"line":128,"column":6}},{"generated":{"line":141,"column":0},"source":"src/ol/render.js","original":{"line":129,"column":5}},{"generated":{"line":142,"column":0},"source":"src/ol/render.js","original":{"line":130,"column":3}},{"name":"items","generated":{"line":144,"column":0},"source":"src/ol/render.js","original":{"line":131,"column":2}},{"name":"items","generated":{"line":144,"column":2},"source":"src/ol/render.js","original":{"line":131,"column":2}},{"generated":{"line":144,"column":7},"source":"src/ol/render.js","original":{"line":131,"column":7}},{"name":"length","generated":{"line":144,"column":8},"source":"src/ol/render.js","original":{"line":131,"column":8}},{"generated":{"line":144,"column":14},"source":"src/ol/render.js","original":{"line":131,"column":2}},{"generated":{"line":144,"column":17},"source":"src/ol/render.js","original":{"line":131,"column":17}},{"generated":{"line":144,"column":18},"source":"src/ol/render.js","original":{"line":131,"column":2}},{"generated":{"line":145,"column":0},"source":"src/ol/render.js","original":{"line":132,"column":2}},{"name":"declutterTree","generated":{"line":145,"column":9},"source":"src/ol/render.js","original":{"line":132,"column":9}},{"generated":{"line":145,"column":22},"source":"src/ol/render.js","original":{"line":132,"column":2}},{"generated":{"line":146,"column":0},"source":"src/ol/render.js","original":{"line":133,"column":1}}],"sources":{"src/ol/render.js":"/**\r\n * @module ol/render\r\n */\r\nimport {DEVICE_PIXEL_RATIO} from './has.js';\r\nimport {\r\n  apply as applyTransform,\r\n  create as createTransform,\r\n  multiply as multiplyTransform,\r\n  scale as scaleTransform\r\n} from './transform.js';\r\nimport CanvasImmediateRenderer from './render/canvas/Immediate.js';\r\n\r\n\r\n/**\r\n * @typedef {Object} State\r\n * @property {CanvasRenderingContext2D} context Canvas context that the layer is being rendered to.\r\n * @property {import(\"./Feature.js\").FeatureLike} feature\r\n * @property {import(\"./geom/SimpleGeometry.js\").default} geometry\r\n * @property {number} pixelRatio Pixel ratio used by the layer renderer.\r\n * @property {number} resolution Resolution that the render batch was created and optimized for.\r\n * This is not the view's resolution that is being rendered.\r\n * @property {number} rotation Rotation of the rendered layer in radians.\r\n */\r\n\r\n\r\n/**\r\n * A function to be used when sorting features before rendering.\r\n * It takes two instances of {@link module:ol/Feature} or\r\n * {@link module:ol/render/Feature} and returns a `{number}`.\r\n *\r\n * @typedef {function(import(\"./Feature.js\").FeatureLike, import(\"./Feature.js\").FeatureLike):number} OrderFunction\r\n */\r\n\r\n\r\n/**\r\n * @typedef {Object} ToContextOptions\r\n * @property {import(\"./size.js\").Size} [size] Desired size of the canvas in css\r\n * pixels. When provided, both canvas and css size will be set according to the\r\n * `pixelRatio`. If not provided, the current canvas and css sizes will not be\r\n * altered.\r\n * @property {number} [pixelRatio=window.devicePixelRatio] Pixel ratio (canvas\r\n * pixel to css pixel ratio) for the canvas.\r\n */\r\n\r\n\r\n/**\r\n * Binds a Canvas Immediate API to a canvas context, to allow drawing geometries\r\n * to the context's canvas.\r\n *\r\n * The units for geometry coordinates are css pixels relative to the top left\r\n * corner of the canvas element.\r\n * ```js\r\n * import {toContext} from 'ol/render';\r\n * import Fill from 'ol/style/Fill';\r\n * import Polygon from 'ol/geom/Polygon';\r\n *\r\n * var canvas = document.createElement('canvas');\r\n * var render = toContext(canvas.getContext('2d'),\r\n *     { size: [100, 100] });\r\n * render.setFillStrokeStyle(new Fill({ color: blue }));\r\n * render.drawPolygon(\r\n *     new Polygon([[[0, 0], [100, 100], [100, 0], [0, 0]]]));\r\n * ```\r\n *\r\n * @param {CanvasRenderingContext2D} context Canvas context.\r\n * @param {ToContextOptions=} opt_options Options.\r\n * @return {CanvasImmediateRenderer} Canvas Immediate.\r\n * @api\r\n */\r\nexport function toContext(context, opt_options) {\r\n  const canvas = context.canvas;\r\n  const options = opt_options ? opt_options : {};\r\n  const pixelRatio = options.pixelRatio || DEVICE_PIXEL_RATIO;\r\n  const size = options.size;\r\n  if (size) {\r\n    canvas.width = size[0] * pixelRatio;\r\n    canvas.height = size[1] * pixelRatio;\r\n    canvas.style.width = size[0] + 'px';\r\n    canvas.style.height = size[1] + 'px';\r\n  }\r\n  const extent = [0, 0, canvas.width, canvas.height];\r\n  const transform = scaleTransform(createTransform(), pixelRatio, pixelRatio);\r\n  return new CanvasImmediateRenderer(context, pixelRatio, extent, transform, 0);\r\n}\r\n\r\n/**\r\n * Gets a vector context for drawing to the event's canvas.\r\n * @param {import(\"./render/Event.js\").default} event Render event.\r\n * @returns {CanvasImmediateRenderer} Vector context.\r\n * @api\r\n */\r\nexport function getVectorContext(event) {\r\n  const frameState = event.frameState;\r\n  const transform = multiplyTransform(event.inversePixelTransform.slice(), frameState.coordinateToPixelTransform);\r\n  return new CanvasImmediateRenderer(\r\n    event.context, frameState.pixelRatio, frameState.extent, transform,\r\n    frameState.viewState.rotation);\r\n}\r\n\r\n/**\r\n * Gets the pixel of the event's canvas context from the map viewport's CSS pixel.\r\n * @param {import(\"./render/Event.js\").default} event Render event.\r\n * @param {import(\"./pixel.js\").Pixel} pixel CSS pixel relative to the top-left\r\n * corner of the map viewport.\r\n * @returns {import(\"./pixel.js\").Pixel} Pixel on the event's canvas context.\r\n * @api\r\n */\r\nexport function getRenderPixel(event, pixel) {\r\n  const result = pixel.slice(0);\r\n  applyTransform(event.inversePixelTransform.slice(), result);\r\n  return result;\r\n}\r\n\r\n/**\r\n * @param {import(\"./PluggableMap.js\").FrameState} frameState Frame state.\r\n * @param {?} declutterTree Declutter tree.\r\n * @returns {?} Declutter tree.\r\n */\r\nexport function renderDeclutterItems(frameState, declutterTree) {\r\n  if (declutterTree) {\r\n    declutterTree.clear();\r\n  }\r\n  const items = frameState.declutterItems;\r\n  for (let z = items.length - 1; z >= 0; --z) {\r\n    const item = items[z];\r\n    const zIndexItems = item.items;\r\n    for (let i = 0, ii = zIndexItems.length; i < ii; i += 3) {\r\n      declutterTree = zIndexItems[i].renderDeclutter(zIndexItems[i + 1], zIndexItems[i + 2], item.opacity, declutterTree);\r\n    }\r\n  }\r\n  items.length = 0;\r\n  return declutterTree;\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"d18db8dcc3ba171cb4e1ae5fb30c6da9","cacheData":{"env":{}}}