{"id":"oxRp","dependencies":[{"name":"C:\\Users\\alro9\\Documents\\geovisor\\package.json","includedInParent":true,"mtime":1559590286605},{"name":"./math.js","loc":{"line":4,"column":24},"parent":"C:\\Users\\alro9\\Documents\\geovisor\\src\\ol\\rotationconstraint.js","resolved":"C:\\Users\\alro9\\Documents\\geovisor\\src\\ol\\math.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.disable=e,exports.none=o,exports.createSnapToN=t,exports.createSnapToZero=n;var r=require(\"./math.js\");function e(r){return void 0!==r?0:void 0}function o(r){return void 0!==r?r:void 0}function t(r){var e=2*Math.PI/r;return function(r,o){return o?r:void 0!==r?r=Math.floor(r/e+.5)*e:void 0}}function n(e){var o=e||(0,r.toRadians)(5);return function(r,e){return e?r:void 0!==r?Math.abs(r)<=o?0:r:void 0}}"},"sourceMaps":{"js":{"mappings":[{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":0}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":13}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":20}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":35}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":43}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":56}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":57}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":64}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":68}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":76}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":84}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":86}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":94}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":99}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":101}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":109}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":123}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":125}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":133}},{"source":"src/ol/rotationconstraint.js","original":{"line":92,"column":1},"generated":{"line":1,"column":150}},{"source":"src/ol/rotationconstraint.js","original":{"line":4,"column":0},"generated":{"line":1,"column":152}},{"source":"src/ol/rotationconstraint.js","original":{"line":4,"column":0},"generated":{"line":1,"column":156}},{"source":"src/ol/rotationconstraint.js","original":{"line":4,"column":0},"generated":{"line":1,"column":158}},{"source":"src/ol/rotationconstraint.js","original":{"line":4,"column":0},"generated":{"line":1,"column":166}},{"source":"src/ol/rotationconstraint.js","original":{"line":16,"column":7},"generated":{"line":1,"column":179}},{"source":"src/ol/rotationconstraint.js","name":"disable","original":{"line":16,"column":16},"generated":{"line":1,"column":188}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":16,"column":24},"generated":{"line":1,"column":190}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":17,"column":6},"generated":{"line":1,"column":193}},{"source":"src/ol/rotationconstraint.js","name":"undefined","original":{"line":17,"column":19},"generated":{"line":1,"column":205}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":17,"column":6},"generated":{"line":1,"column":209}},{"source":"src/ol/rotationconstraint.js","original":{"line":18,"column":11},"generated":{"line":1,"column":211}},{"source":"src/ol/rotationconstraint.js","name":"undefined","original":{"line":20,"column":11},"generated":{"line":1,"column":218}},{"source":"src/ol/rotationconstraint.js","original":{"line":29,"column":7},"generated":{"line":1,"column":220}},{"source":"src/ol/rotationconstraint.js","name":"none","original":{"line":29,"column":16},"generated":{"line":1,"column":229}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":29,"column":21},"generated":{"line":1,"column":231}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":30,"column":6},"generated":{"line":1,"column":234}},{"source":"src/ol/rotationconstraint.js","name":"undefined","original":{"line":30,"column":19},"generated":{"line":1,"column":246}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":30,"column":6},"generated":{"line":1,"column":250}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":31,"column":11},"generated":{"line":1,"column":252}},{"source":"src/ol/rotationconstraint.js","name":"undefined","original":{"line":33,"column":11},"generated":{"line":1,"column":259}},{"source":"src/ol/rotationconstraint.js","original":{"line":42,"column":7},"generated":{"line":1,"column":261}},{"source":"src/ol/rotationconstraint.js","name":"createSnapToN","original":{"line":42,"column":16},"generated":{"line":1,"column":270}},{"source":"src/ol/rotationconstraint.js","name":"n","original":{"line":42,"column":30},"generated":{"line":1,"column":272}},{"source":"src/ol/rotationconstraint.js","name":"theta","original":{"line":43,"column":8},"generated":{"line":1,"column":275}},{"source":"src/ol/rotationconstraint.js","name":"theta","original":{"line":43,"column":8},"generated":{"line":1,"column":279}},{"source":"src/ol/rotationconstraint.js","original":{"line":43,"column":16},"generated":{"line":1,"column":281}},{"source":"src/ol/rotationconstraint.js","name":"Math","original":{"line":43,"column":20},"generated":{"line":1,"column":283}},{"source":"src/ol/rotationconstraint.js","name":"PI","original":{"line":43,"column":25},"generated":{"line":1,"column":288}},{"source":"src/ol/rotationconstraint.js","name":"n","original":{"line":43,"column":30},"generated":{"line":1,"column":291}},{"source":"src/ol/rotationconstraint.js","original":{"line":44,"column":2},"generated":{"line":1,"column":293}},{"source":"src/ol/rotationconstraint.js","original":{"line":44,"column":2},"generated":{"line":1,"column":300}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":50,"column":13},"generated":{"line":1,"column":309}},{"source":"src/ol/rotationconstraint.js","name":"opt_isMoving","original":{"line":50,"column":23},"generated":{"line":1,"column":311}},{"source":"src/ol/rotationconstraint.js","name":"opt_isMoving","original":{"line":51,"column":10},"generated":{"line":1,"column":314}},{"source":"src/ol/rotationconstraint.js","name":"opt_isMoving","original":{"line":51,"column":10},"generated":{"line":1,"column":321}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":52,"column":15},"generated":{"line":1,"column":323}},{"source":"src/ol/rotationconstraint.js","name":"undefined","original":{"line":55,"column":23},"generated":{"line":1,"column":330}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":55,"column":10},"generated":{"line":1,"column":334}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":56,"column":8},"generated":{"line":1,"column":336}},{"source":"src/ol/rotationconstraint.js","name":"Math","original":{"line":56,"column":19},"generated":{"line":1,"column":338}},{"source":"src/ol/rotationconstraint.js","name":"floor","original":{"line":56,"column":24},"generated":{"line":1,"column":343}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":56,"column":30},"generated":{"line":1,"column":349}},{"source":"src/ol/rotationconstraint.js","name":"theta","original":{"line":56,"column":41},"generated":{"line":1,"column":351}},{"source":"src/ol/rotationconstraint.js","original":{"line":56,"column":49},"generated":{"line":1,"column":353}},{"source":"src/ol/rotationconstraint.js","name":"theta","original":{"line":56,"column":56},"generated":{"line":1,"column":357}},{"source":"src/ol/rotationconstraint.js","name":"undefined","original":{"line":59,"column":15},"generated":{"line":1,"column":364}},{"source":"src/ol/rotationconstraint.js","original":{"line":69,"column":7},"generated":{"line":1,"column":367}},{"source":"src/ol/rotationconstraint.js","name":"createSnapToZero","original":{"line":69,"column":16},"generated":{"line":1,"column":376}},{"source":"src/ol/rotationconstraint.js","name":"opt_tolerance","original":{"line":69,"column":33},"generated":{"line":1,"column":378}},{"source":"src/ol/rotationconstraint.js","name":"tolerance","original":{"line":70,"column":8},"generated":{"line":1,"column":381}},{"source":"src/ol/rotationconstraint.js","name":"tolerance","original":{"line":70,"column":8},"generated":{"line":1,"column":385}},{"source":"src/ol/rotationconstraint.js","name":"opt_tolerance","original":{"line":70,"column":20},"generated":{"line":1,"column":387}},{"source":"src/ol/rotationconstraint.js","original":{"line":70,"column":37},"generated":{"line":1,"column":391}},{"source":"src/ol/rotationconstraint.js","original":{"line":70,"column":47},"generated":{"line":1,"column":393}},{"source":"src/ol/rotationconstraint.js","original":{"line":70,"column":47},"generated":{"line":1,"column":395}},{"source":"src/ol/rotationconstraint.js","original":{"line":70,"column":47},"generated":{"line":1,"column":406}},{"source":"src/ol/rotationconstraint.js","original":{"line":71,"column":2},"generated":{"line":1,"column":409}},{"source":"src/ol/rotationconstraint.js","original":{"line":71,"column":2},"generated":{"line":1,"column":416}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":77,"column":13},"generated":{"line":1,"column":425}},{"source":"src/ol/rotationconstraint.js","name":"opt_isMoving","original":{"line":77,"column":23},"generated":{"line":1,"column":427}},{"source":"src/ol/rotationconstraint.js","name":"opt_isMoving","original":{"line":78,"column":10},"generated":{"line":1,"column":430}},{"source":"src/ol/rotationconstraint.js","name":"opt_isMoving","original":{"line":78,"column":10},"generated":{"line":1,"column":437}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":79,"column":15},"generated":{"line":1,"column":439}},{"source":"src/ol/rotationconstraint.js","name":"undefined","original":{"line":82,"column":23},"generated":{"line":1,"column":446}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":82,"column":10},"generated":{"line":1,"column":450}},{"source":"src/ol/rotationconstraint.js","name":"Math","original":{"line":83,"column":12},"generated":{"line":1,"column":452}},{"source":"src/ol/rotationconstraint.js","name":"abs","original":{"line":83,"column":17},"generated":{"line":1,"column":457}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":83,"column":21},"generated":{"line":1,"column":461}},{"source":"src/ol/rotationconstraint.js","name":"tolerance","original":{"line":83,"column":34},"generated":{"line":1,"column":465}},{"source":"src/ol/rotationconstraint.js","original":{"line":84,"column":17},"generated":{"line":1,"column":467}},{"source":"src/ol/rotationconstraint.js","name":"rotation","original":{"line":86,"column":17},"generated":{"line":1,"column":469}},{"source":"src/ol/rotationconstraint.js","name":"undefined","original":{"line":89,"column":15},"generated":{"line":1,"column":476}}],"sources":{"src/ol/rotationconstraint.js":"/**\r\n * @module ol/rotationconstraint\r\n */\r\nimport {toRadians} from './math.js';\r\n\r\n\r\n/**\r\n * @typedef {function((number|undefined), boolean=): (number|undefined)} Type\r\n */\r\n\r\n\r\n/**\r\n * @param {number|undefined} rotation Rotation.\r\n * @return {number|undefined} Rotation.\r\n */\r\nexport function disable(rotation) {\r\n  if (rotation !== undefined) {\r\n    return 0;\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * @param {number|undefined} rotation Rotation.\r\n * @return {number|undefined} Rotation.\r\n */\r\nexport function none(rotation) {\r\n  if (rotation !== undefined) {\r\n    return rotation;\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * @param {number} n N.\r\n * @return {Type} Rotation constraint.\r\n */\r\nexport function createSnapToN(n) {\r\n  const theta = 2 * Math.PI / n;\r\n  return (\r\n    /**\r\n     * @param {number|undefined} rotation Rotation.\r\n     * @param {boolean=} opt_isMoving True if an interaction or animation is in progress.\r\n     * @return {number|undefined} Rotation.\r\n     */\r\n    function(rotation, opt_isMoving) {\r\n      if (opt_isMoving) {\r\n        return rotation;\r\n      }\r\n\r\n      if (rotation !== undefined) {\r\n        rotation = Math.floor(rotation / theta + 0.5) * theta;\r\n        return rotation;\r\n      } else {\r\n        return undefined;\r\n      }\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * @param {number=} opt_tolerance Tolerance.\r\n * @return {Type} Rotation constraint.\r\n */\r\nexport function createSnapToZero(opt_tolerance) {\r\n  const tolerance = opt_tolerance || toRadians(5);\r\n  return (\r\n    /**\r\n     * @param {number|undefined} rotation Rotation.\r\n     * @param {boolean} opt_isMoving True if an interaction or animation is in progress.\r\n     * @return {number|undefined} Rotation.\r\n     */\r\n    function(rotation, opt_isMoving) {\r\n      if (opt_isMoving) {\r\n        return rotation;\r\n      }\r\n\r\n      if (rotation !== undefined) {\r\n        if (Math.abs(rotation) <= tolerance) {\r\n          return 0;\r\n        } else {\r\n          return rotation;\r\n        }\r\n      } else {\r\n        return undefined;\r\n      }\r\n    });\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"d6200a08a7ba74fce9d3f0bb03906375","cacheData":{"env":{}}}